# SPDX-License-Identifier: Apache-2.0
version: '3'
dotenv: ['.env', '{{.ENV}}/.env', '{{.HOME}}/.env']

includes:
  server: ./server/Taskfile.server.yml
  models: ./config/Taskfile.models.yml
  
tasks:
  build:
    cmds:
      - docker compose build

  rebuild:
    cmds:
      - docker compose up --build

  run:
    cmds:
      - docker compose up

  watch:
    cmds:
      - docker compose up --watch

  logs:
    cmds:
      - docker compose logs -f

  stop:
    cmds:
      - docker compose down

  setup:
    cmds:
      - docker network create gcap_network
